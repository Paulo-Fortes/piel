{"ast":null,"code":"'use client';\n\nimport { dataAttr, ariaAttr } from '@zag-js/dom-query';\nimport { useState, useId, useRef, useMemo } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useSafeLayoutEffect } from '../../utils/use-safe-layout-effect.js';\nimport { useFieldsetContext } from '../fieldset/use-fieldset-context.js';\nimport { parts } from './field.anatomy.js';\nconst useField = (props = {}) => {\n  const fieldset = useFieldsetContext();\n  const env = useEnvironmentContext();\n  const {\n    ids,\n    disabled = Boolean(fieldset?.disabled),\n    invalid = false,\n    readOnly = false,\n    required = false\n  } = props;\n  const [hasErrorText, setHasErrorText] = useState(false);\n  const [hasHelperText, setHasHelperText] = useState(false);\n  const id = props.id ?? useId();\n  const rootRef = useRef(null);\n  const rootId = ids?.control ?? `field::${id}`;\n  const errorTextId = ids?.errorText ?? `field::${id}::error-text`;\n  const helperTextId = ids?.helperText ?? `field::${id}::helper-text`;\n  const labelId = ids?.label ?? `field::${id}::label`;\n  useSafeLayoutEffect(() => {\n    const rootNode = rootRef.current;\n    if (!rootNode) return;\n    const checkTextElements = () => {\n      const docOrShadowRoot = env.getRootNode();\n      setHasErrorText(!!docOrShadowRoot.getElementById(errorTextId));\n      setHasHelperText(!!docOrShadowRoot.getElementById(helperTextId));\n    };\n    checkTextElements();\n    const win = env.getWindow();\n    const observer = new win.MutationObserver(checkTextElements);\n    observer.observe(rootNode, {\n      childList: true,\n      subtree: true\n    });\n    return () => observer.disconnect();\n  }, [env, errorTextId, helperTextId]);\n  const labelIds = useMemo(() => {\n    const ids2 = [];\n    if (hasErrorText && invalid) ids2.push(errorTextId);\n    if (hasHelperText) ids2.push(helperTextId);\n    return ids2.join(\" \") || void 0;\n  }, [invalid, errorTextId, helperTextId, hasErrorText, hasHelperText]);\n  const getRootProps = useMemo(() => () => ({\n    ...parts.root.attrs,\n    id: rootId,\n    ref: rootRef,\n    role: \"group\",\n    \"data-disabled\": dataAttr(disabled),\n    \"data-invalid\": dataAttr(invalid),\n    \"data-readonly\": dataAttr(readOnly)\n  }), [disabled, invalid, readOnly, rootId]);\n  const getLabelProps = useMemo(() => () => ({\n    ...parts.label.attrs,\n    id: labelId,\n    \"data-disabled\": dataAttr(disabled),\n    \"data-invalid\": dataAttr(invalid),\n    \"data-readonly\": dataAttr(readOnly),\n    htmlFor: id\n  }), [disabled, invalid, readOnly, id, labelId]);\n  const getControlProps = useMemo(() => () => ({\n    \"aria-describedby\": labelIds,\n    \"aria-invalid\": ariaAttr(invalid),\n    \"data-invalid\": dataAttr(invalid),\n    \"data-required\": dataAttr(required),\n    \"data-readonly\": dataAttr(readOnly),\n    id,\n    required,\n    disabled,\n    readOnly\n  }), [labelIds, invalid, required, readOnly, id, disabled]);\n  const getInputProps = useMemo(() => () => ({\n    ...getControlProps(),\n    ...parts.input.attrs\n  }), [getControlProps]);\n  const getTextareaProps = useMemo(() => () => ({\n    ...getControlProps(),\n    ...parts.textarea.attrs\n  }), [getControlProps]);\n  const getSelectProps = useMemo(() => () => ({\n    ...getControlProps(),\n    ...parts.select.attrs\n  }), [getControlProps]);\n  const getHelperTextProps = useMemo(() => () => ({\n    id: helperTextId,\n    ...parts.helperText.attrs,\n    \"data-disabled\": dataAttr(disabled)\n  }), [disabled, helperTextId]);\n  const getErrorTextProps = useMemo(() => () => ({\n    id: errorTextId,\n    ...parts.errorText.attrs,\n    \"aria-live\": \"polite\"\n  }), [errorTextId]);\n  const getRequiredIndicatorProps = useMemo(() => () => ({\n    \"aria-hidden\": true,\n    ...parts.requiredIndicator.attrs\n  }), []);\n  return {\n    ariaDescribedby: labelIds,\n    ids: {\n      root: rootId,\n      control: id,\n      label: labelId,\n      errorText: errorTextId,\n      helperText: helperTextId\n    },\n    refs: {\n      rootRef\n    },\n    disabled,\n    invalid,\n    readOnly,\n    required,\n    getLabelProps,\n    getRootProps,\n    getInputProps,\n    getTextareaProps,\n    getSelectProps,\n    getHelperTextProps,\n    getErrorTextProps,\n    getRequiredIndicatorProps\n  };\n};\nexport { useField };","map":{"version":3,"names":["dataAttr","ariaAttr","useState","useId","useRef","useMemo","useEnvironmentContext","useSafeLayoutEffect","useFieldsetContext","parts","useField","props","fieldset","env","ids","disabled","Boolean","invalid","readOnly","required","hasErrorText","setHasErrorText","hasHelperText","setHasHelperText","id","rootRef","rootId","control","errorTextId","errorText","helperTextId","helperText","labelId","label","rootNode","current","checkTextElements","docOrShadowRoot","getRootNode","getElementById","win","getWindow","observer","MutationObserver","observe","childList","subtree","disconnect","labelIds","ids2","push","join","getRootProps","root","attrs","ref","role","getLabelProps","htmlFor","getControlProps","getInputProps","input","getTextareaProps","textarea","getSelectProps","select","getHelperTextProps","getErrorTextProps","getRequiredIndicatorProps","requiredIndicator","ariaDescribedby","refs"],"sources":["C:/Users/Samsung/Desktop/TEC DESARROLLO DE SOFTWARE/5ยบ CUATRIMESTRE/piel/client/node_modules/@ark-ui/react/dist/components/field/use-field.js"],"sourcesContent":["'use client';\r\nimport { dataAttr, ariaAttr } from '@zag-js/dom-query';\r\nimport { useState, useId, useRef, useMemo } from 'react';\r\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\r\nimport { useSafeLayoutEffect } from '../../utils/use-safe-layout-effect.js';\r\nimport { useFieldsetContext } from '../fieldset/use-fieldset-context.js';\r\nimport { parts } from './field.anatomy.js';\r\n\r\nconst useField = (props = {}) => {\r\n  const fieldset = useFieldsetContext();\r\n  const env = useEnvironmentContext();\r\n  const { ids, disabled = Boolean(fieldset?.disabled), invalid = false, readOnly = false, required = false } = props;\r\n  const [hasErrorText, setHasErrorText] = useState(false);\r\n  const [hasHelperText, setHasHelperText] = useState(false);\r\n  const id = props.id ?? useId();\r\n  const rootRef = useRef(null);\r\n  const rootId = ids?.control ?? `field::${id}`;\r\n  const errorTextId = ids?.errorText ?? `field::${id}::error-text`;\r\n  const helperTextId = ids?.helperText ?? `field::${id}::helper-text`;\r\n  const labelId = ids?.label ?? `field::${id}::label`;\r\n  useSafeLayoutEffect(() => {\r\n    const rootNode = rootRef.current;\r\n    if (!rootNode) return;\r\n    const checkTextElements = () => {\r\n      const docOrShadowRoot = env.getRootNode();\r\n      setHasErrorText(!!docOrShadowRoot.getElementById(errorTextId));\r\n      setHasHelperText(!!docOrShadowRoot.getElementById(helperTextId));\r\n    };\r\n    checkTextElements();\r\n    const win = env.getWindow();\r\n    const observer = new win.MutationObserver(checkTextElements);\r\n    observer.observe(rootNode, { childList: true, subtree: true });\r\n    return () => observer.disconnect();\r\n  }, [env, errorTextId, helperTextId]);\r\n  const labelIds = useMemo(() => {\r\n    const ids2 = [];\r\n    if (hasErrorText && invalid) ids2.push(errorTextId);\r\n    if (hasHelperText) ids2.push(helperTextId);\r\n    return ids2.join(\" \") || void 0;\r\n  }, [invalid, errorTextId, helperTextId, hasErrorText, hasHelperText]);\r\n  const getRootProps = useMemo(\r\n    () => () => ({\r\n      ...parts.root.attrs,\r\n      id: rootId,\r\n      ref: rootRef,\r\n      role: \"group\",\r\n      \"data-disabled\": dataAttr(disabled),\r\n      \"data-invalid\": dataAttr(invalid),\r\n      \"data-readonly\": dataAttr(readOnly)\r\n    }),\r\n    [disabled, invalid, readOnly, rootId]\r\n  );\r\n  const getLabelProps = useMemo(\r\n    () => () => ({\r\n      ...parts.label.attrs,\r\n      id: labelId,\r\n      \"data-disabled\": dataAttr(disabled),\r\n      \"data-invalid\": dataAttr(invalid),\r\n      \"data-readonly\": dataAttr(readOnly),\r\n      htmlFor: id\r\n    }),\r\n    [disabled, invalid, readOnly, id, labelId]\r\n  );\r\n  const getControlProps = useMemo(\r\n    () => () => ({\r\n      \"aria-describedby\": labelIds,\r\n      \"aria-invalid\": ariaAttr(invalid),\r\n      \"data-invalid\": dataAttr(invalid),\r\n      \"data-required\": dataAttr(required),\r\n      \"data-readonly\": dataAttr(readOnly),\r\n      id,\r\n      required,\r\n      disabled,\r\n      readOnly\r\n    }),\r\n    [labelIds, invalid, required, readOnly, id, disabled]\r\n  );\r\n  const getInputProps = useMemo(\r\n    () => () => ({\r\n      ...getControlProps(),\r\n      ...parts.input.attrs\r\n    }),\r\n    [getControlProps]\r\n  );\r\n  const getTextareaProps = useMemo(\r\n    () => () => ({\r\n      ...getControlProps(),\r\n      ...parts.textarea.attrs\r\n    }),\r\n    [getControlProps]\r\n  );\r\n  const getSelectProps = useMemo(\r\n    () => () => ({\r\n      ...getControlProps(),\r\n      ...parts.select.attrs\r\n    }),\r\n    [getControlProps]\r\n  );\r\n  const getHelperTextProps = useMemo(\r\n    () => () => ({\r\n      id: helperTextId,\r\n      ...parts.helperText.attrs,\r\n      \"data-disabled\": dataAttr(disabled)\r\n    }),\r\n    [disabled, helperTextId]\r\n  );\r\n  const getErrorTextProps = useMemo(\r\n    () => () => ({\r\n      id: errorTextId,\r\n      ...parts.errorText.attrs,\r\n      \"aria-live\": \"polite\"\r\n    }),\r\n    [errorTextId]\r\n  );\r\n  const getRequiredIndicatorProps = useMemo(\r\n    () => () => ({\r\n      \"aria-hidden\": true,\r\n      ...parts.requiredIndicator.attrs\r\n    }),\r\n    []\r\n  );\r\n  return {\r\n    ariaDescribedby: labelIds,\r\n    ids: {\r\n      root: rootId,\r\n      control: id,\r\n      label: labelId,\r\n      errorText: errorTextId,\r\n      helperText: helperTextId\r\n    },\r\n    refs: {\r\n      rootRef\r\n    },\r\n    disabled,\r\n    invalid,\r\n    readOnly,\r\n    required,\r\n    getLabelProps,\r\n    getRootProps,\r\n    getInputProps,\r\n    getTextareaProps,\r\n    getSelectProps,\r\n    getHelperTextProps,\r\n    getErrorTextProps,\r\n    getRequiredIndicatorProps\r\n  };\r\n};\r\n\r\nexport { useField };\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}